{% load static %}
{% block content %}

<style>
/* ================= NAVBAR ONLY (SCOPED) ================= */
.nav-wrapper {
    background: rgba(255,255,255,0.95);
    backdrop-filter: blur(10px);
    box-shadow: 0 6px 18px rgba(0,0,0,0.08);
    padding: 10px 20px;
}

/* Top layout */
.nav-top {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

/* Brand */
.nav-brand {
    display: flex;
    align-items: center;
    gap: 10px;
}

.nav-brand img {
    width: 45px;
    height: 45px;
    border-radius: 50%;
}

.nav-brand span {
    font-size: 26px;
    font-weight: 800;
    color: #d2b48c;
}

/* Buttons (NAV ONLY) */
.nav-btn {
    padding: 7px 16px;
    border-radius: 999px;
    border: none;
    cursor: pointer;
    background: #1f2937;   /* dark, not blue */
    color: #ffffff;
}

/* Hamburger */
.nav-ham {
    position: relative;
}

.nav-ham-btn {
    background: transparent;
    border: none;
    cursor: pointer;
}

.nav-ham-btn hr {
    border: none;
    height: 2px;
    width: 25px;
    background: #1f2937;
    margin: 4px 0;
}

/* Dropdowns */
.nav-dropdown {
    position: absolute;
    top: 40px;
    left: 0;
    background: #ffffff;
    border-radius: 12px;
    min-width: 180px;
    box-shadow: 0 12px 30px rgba(0,0,0,0.15);
    overflow: hidden;
    z-index: 999;
}

.nav-dropdown div {
    padding: 10px 14px;
    color: #1f2937;
}

.nav-dropdown div:hover {
    background: #f3f4f6;
}

/* Account */
.nav-acc {
    position: relative;
}
</style>

<div class="nav-wrapper">
    <div class="nav-top">

        <!-- ===== LEFT (Hamburger) ===== -->
        <div>
        {% if page != 'login' and page != 'register' %}
            <div class="nav-ham">
                <button class="nav-ham-btn" onclick="pop3()">
                    <hr><hr><hr>
                </button>

                <div id="ham" class="nav-dropdown" style="display:none;">
                    {% if request.user.is_authenticated %}
                        <div>{{ request.user }} Welcome!</div>

                        {% if page == 'cart' %}
                            <a href="{% url 'home' %}"><div>Home</div></a>
                        {% else %}
                            <a href="{% url 'cartPage' %}"><div>Cart</div></a>
                        {% endif %}

                        <a href="{% url 'user-order' %}"><div>Your Orders</div></a>
                        <a href="{% url 'user-update' %}"><div>About You</div></a>
                    {% else %}
                        <a href="{% url 'login' %}"><div>About You</div></a>
                    {% endif %}
                    <div>Contact Us</div>
                </div>
            </div>
        {% endif %}
        </div>

        <!-- ===== CENTER (Brand) ===== -->
        <div class="nav-brand">
            <img src="{% static 'rbc/cc-img.jpg' %}">
            <span>Country Club</span>
        </div>

        <!-- ===== RIGHT (Account/Login) ===== -->
        <div>
            {% if request.user.is_authenticated %}
                <div class="nav-acc">
                    <button class="nav-btn" onclick="pop2()">Account</button>
                    <div id="acc" class="nav-dropdown" style="display:none; right:0; left:auto;">
                        <div>Hello {{ request.user }}</div>
                        <a href="{% url 'logout' %}"><div>Logout</div></a>
                    </div>
                </div>
            {% else %}
                {% if page != 'login' and page != 'register' %}
                    <a href="{% url 'login' %}">
                        <button class="nav-btn">Login</button>
                    </a>
                {% endif %}
            {% endif %}
        </div>

    </div>
</div>

<hr>

{% endblock %}

{% block script %}
<script src="{% static 'rbc/head.js' %}"></script>
{% endblock %}
